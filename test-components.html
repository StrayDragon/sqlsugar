<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jinja2 Components Test</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            margin: 20px;
            background-color: #1e1e1e;
            color: #cccccc;
        }
        .component-demo {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .component-demo h3 {
            margin-top: 0;
            color: #3794ff;
        }
    </style>
</head>
<body>
    <h1>Jinja2 Components Test</h1>

    <div class="component-demo">
        <h3>Button Component</h3>
        <jinja-button>Default Button</jinja-button>
        <jinja-button variant="primary">Primary Button</jinja-button>
        <jinja-button variant="danger">Danger Button</jinja-button>
        <jinja-button disabled>Disabled Button</jinja-button>
    </div>

    <div class="component-demo">
        <h3>Input Component</h3>
        <jinja-input type="text" placeholder="Enter text"></jinja-input>
        <jinja-input type="email" placeholder="Enter email"></jinja-input>
        <jinja-input type="number" placeholder="Enter number"></jinja-input>
    </div>

    <div class="component-demo">
        <h3>Select Component</h3>
        <jinja-select placeholder="Select an option"></jinja-select>
    </div>

    <div class="component-demo">
        <h3>Card Component</h3>
        <jinja-card title="Test Card" subtitle="This is a subtitle">
            <p>This is the card content.</p>
        </jinja-card>
    </div>

    <!-- Load components -->
    <script type="module">
        // Import the built components
        import './dist/jinja2-editor/jinja2-editor.js';

        // Wait for components to be defined
        function waitForComponents() {
            if (customElements.get('jinja-button')) {
                console.log('✅ All components loaded successfully');

                // Set up select options
                const select = document.querySelector('jinja-select');
                if (select) {
                    select.options = [
                        { value: 'option1', label: 'Option 1' },
                        { value: 'option2', label: 'Option 2' },
                        { value: 'option3', label: 'Option 3' }
                    ];
                }

                // Set up event listeners
                document.querySelectorAll('jinja-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        console.log('Button clicked:', e.target.textContent);
                    });
                });

            } else {
                console.log('⏳ Waiting for components to load...');
                setTimeout(waitForComponents, 100);
            }
        }

        // Start checking when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', waitForComponents);
        } else {
            waitForComponents();
        }
    </script>
</body>
</html>